(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

require('../src/utils/TrackballControls');

var camera, controls, scene, renderer; /**
                                        * Created by Amar on 07.11.2016.
                                        */

init();
animate();

function init() {
    camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 1000);
    camera.position.z = 500;

    controls = new THREE.TrackballControls(camera);
    controls.addEventListener('change', render);

    scene = new THREE.Scene();

    var geometry = new THREE.CubeGeometry(100, 100, 100);
    var material = new THREE.MeshNormalMaterial();

    var mesh = new THREE.Mesh(geometry, material);
    scene.add(mesh);

    renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);
}

function animate() {
    requestAnimationFrame(animate);
    controls.update();
}

function render() {
    renderer.render(scene, camera);
}

},{"../src/utils/TrackballControls":2}],2:[function(require,module,exports){
'use strict';

/**
 * @author Eberhard Graether / http://egraether.com/
 */

THREE.TrackballControls = function (object, domElement) {

	var _this = this;
	var STATE = { NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM: 4, TOUCH_PAN: 5 };

	this.object = object;
	this.domElement = domElement !== undefined ? domElement : document;

	// API

	this.enabled = true;

	this.screen = { left: 0, top: 0, width: 0, height: 0 };

	this.rotateSpeed = 1.0;
	this.zoomSpeed = 1.2;
	this.panSpeed = 0.3;

	this.noRotate = false;
	this.noZoom = false;
	this.noPan = false;
	this.noRoll = false;

	this.staticMoving = false;
	this.dynamicDampingFactor = 0.2;

	this.minDistance = 0;
	this.maxDistance = Infinity;

	this.keys = [65 /*A*/, 83 /*S*/, 68 /*D*/];

	// internals

	this.target = new THREE.Vector3();

	var lastPosition = new THREE.Vector3();

	var _state = STATE.NONE,
	    _prevState = STATE.NONE,
	    _eye = new THREE.Vector3(),
	    _rotateStart = new THREE.Vector3(),
	    _rotateEnd = new THREE.Vector3(),
	    _zoomStart = new THREE.Vector2(),
	    _zoomEnd = new THREE.Vector2(),
	    _touchZoomDistanceStart = 0,
	    _touchZoomDistanceEnd = 0,
	    _panStart = new THREE.Vector2(),
	    _panEnd = new THREE.Vector2();

	// for reset

	this.target0 = this.target.clone();
	this.position0 = this.object.position.clone();
	this.up0 = this.object.up.clone();

	// events

	var changeEvent = { type: 'change' };
	var startEvent = { type: 'start' };
	var endEvent = { type: 'end' };

	// methods

	this.handleResize = function () {

		if (this.domElement === document) {

			this.screen.left = 0;
			this.screen.top = 0;
			this.screen.width = window.innerWidth;
			this.screen.height = window.innerHeight;
		} else {

			this.screen = this.domElement.getBoundingClientRect();
		}
	};

	this.handleEvent = function (event) {

		if (typeof this[event.type] == 'function') {

			this[event.type](event);
		}
	};

	this.getMouseOnScreen = function (clientX, clientY) {

		return new THREE.Vector2((clientX - _this.screen.left) / _this.screen.width, (clientY - _this.screen.top) / _this.screen.height);
	};

	this.getMouseProjectionOnBall = function (clientX, clientY) {

		var mouseOnBall = new THREE.Vector3((clientX - _this.screen.width * 0.5 - _this.screen.left) / (_this.screen.width * .5), (_this.screen.height * 0.5 + _this.screen.top - clientY) / (_this.screen.height * .5), 0.0);

		var length = mouseOnBall.length();

		if (_this.noRoll) {

			if (length < Math.SQRT1_2) {

				mouseOnBall.z = Math.sqrt(1.0 - length * length);
			} else {

				mouseOnBall.z = .5 / length;
			}
		} else if (length > 1.0) {

			mouseOnBall.normalize();
		} else {

			mouseOnBall.z = Math.sqrt(1.0 - length * length);
		}

		_eye.copy(_this.object.position).sub(_this.target);

		var projection = _this.object.up.clone().setLength(mouseOnBall.y);
		projection.add(_this.object.up.clone().cross(_eye).setLength(mouseOnBall.x));
		projection.add(_eye.setLength(mouseOnBall.z));

		return projection;
	};

	this.rotateCamera = function () {

		var angle = Math.acos(_rotateStart.dot(_rotateEnd) / _rotateStart.length() / _rotateEnd.length());

		if (angle) {

			var axis = new THREE.Vector3().crossVectors(_rotateStart, _rotateEnd).normalize(),
			    quaternion = new THREE.Quaternion();

			angle *= _this.rotateSpeed;

			quaternion.setFromAxisAngle(axis, -angle);

			_eye.applyQuaternion(quaternion);
			_this.object.up.applyQuaternion(quaternion);

			_rotateEnd.applyQuaternion(quaternion);

			if (_this.staticMoving) {

				_rotateStart.copy(_rotateEnd);
			} else {

				quaternion.setFromAxisAngle(axis, angle * (_this.dynamicDampingFactor - 1.0));
				_rotateStart.applyQuaternion(quaternion);
			}
		}
	};

	this.zoomCamera = function () {

		if (_state === STATE.TOUCH_ZOOM) {

			var factor = _touchZoomDistanceStart / _touchZoomDistanceEnd;
			_touchZoomDistanceStart = _touchZoomDistanceEnd;
			_eye.multiplyScalar(factor);
		} else {

			var factor = 1.0 + (_zoomEnd.y - _zoomStart.y) * _this.zoomSpeed;

			if (factor !== 1.0 && factor > 0.0) {

				_eye.multiplyScalar(factor);

				if (_this.staticMoving) {

					_zoomStart.copy(_zoomEnd);
				} else {

					_zoomStart.y += (_zoomEnd.y - _zoomStart.y) * this.dynamicDampingFactor;
				}
			}
		}
	};

	this.panCamera = function () {

		var mouseChange = _panEnd.clone().sub(_panStart);

		if (mouseChange.lengthSq()) {

			mouseChange.multiplyScalar(_eye.length() * _this.panSpeed);

			var pan = _eye.clone().cross(_this.object.up).setLength(mouseChange.x);
			pan.add(_this.object.up.clone().setLength(mouseChange.y));

			_this.object.position.add(pan);
			_this.target.add(pan);

			if (_this.staticMoving) {

				_panStart = _panEnd;
			} else {

				_panStart.add(mouseChange.subVectors(_panEnd, _panStart).multiplyScalar(_this.dynamicDampingFactor));
			}
		}
	};

	this.checkDistances = function () {

		if (!_this.noZoom || !_this.noPan) {

			if (_eye.lengthSq() > _this.maxDistance * _this.maxDistance) {

				_this.object.position.addVectors(_this.target, _eye.setLength(_this.maxDistance));
			}

			if (_eye.lengthSq() < _this.minDistance * _this.minDistance) {

				_this.object.position.addVectors(_this.target, _eye.setLength(_this.minDistance));
			}
		}
	};

	this.update = function () {

		_eye.subVectors(_this.object.position, _this.target);

		if (!_this.noRotate) {

			_this.rotateCamera();
		}

		if (!_this.noZoom) {

			_this.zoomCamera();
		}

		if (!_this.noPan) {

			_this.panCamera();
		}

		_this.object.position.addVectors(_this.target, _eye);

		_this.checkDistances();

		_this.object.lookAt(_this.target);

		if (lastPosition.distanceToSquared(_this.object.position) > 0) {

			_this.dispatchEvent(changeEvent);

			lastPosition.copy(_this.object.position);
		}
	};

	this.reset = function () {

		_state = STATE.NONE;
		_prevState = STATE.NONE;

		_this.target.copy(_this.target0);
		_this.object.position.copy(_this.position0);
		_this.object.up.copy(_this.up0);

		_eye.subVectors(_this.object.position, _this.target);

		_this.object.lookAt(_this.target);

		_this.dispatchEvent(changeEvent);

		lastPosition.copy(_this.object.position);
	};

	// listeners

	function keydown(event) {

		if (_this.enabled === false) return;

		window.removeEventListener('keydown', keydown);

		_prevState = _state;

		if (_state !== STATE.NONE) {

			return;
		} else if (event.keyCode === _this.keys[STATE.ROTATE] && !_this.noRotate) {

			_state = STATE.ROTATE;
		} else if (event.keyCode === _this.keys[STATE.ZOOM] && !_this.noZoom) {

			_state = STATE.ZOOM;
		} else if (event.keyCode === _this.keys[STATE.PAN] && !_this.noPan) {

			_state = STATE.PAN;
		}
	}

	function keyup(event) {

		if (_this.enabled === false) return;

		_state = _prevState;

		window.addEventListener('keydown', keydown, false);
	}

	function mousedown(event) {

		if (_this.enabled === false) return;

		event.preventDefault();
		event.stopPropagation();

		if (_state === STATE.NONE) {

			_state = event.button;
		}

		if (_state === STATE.ROTATE && !_this.noRotate) {

			_rotateStart = _this.getMouseProjectionOnBall(event.clientX, event.clientY);
			_rotateEnd.copy(_rotateStart);
		} else if (_state === STATE.ZOOM && !_this.noZoom) {

			_zoomStart = _this.getMouseOnScreen(event.clientX, event.clientY);
			_zoomEnd.copy(_zoomStart);
		} else if (_state === STATE.PAN && !_this.noPan) {

			_panStart = _this.getMouseOnScreen(event.clientX, event.clientY);
			_panEnd.copy(_panStart);
		}

		document.addEventListener('mousemove', mousemove, false);
		document.addEventListener('mouseup', mouseup, false);
		_this.dispatchEvent(startEvent);
	}

	function mousemove(event) {

		if (_this.enabled === false) return;

		event.preventDefault();
		event.stopPropagation();

		if (_state === STATE.ROTATE && !_this.noRotate) {

			_rotateEnd = _this.getMouseProjectionOnBall(event.clientX, event.clientY);
		} else if (_state === STATE.ZOOM && !_this.noZoom) {

			_zoomEnd = _this.getMouseOnScreen(event.clientX, event.clientY);
		} else if (_state === STATE.PAN && !_this.noPan) {

			_panEnd = _this.getMouseOnScreen(event.clientX, event.clientY);
		}
	}

	function mouseup(event) {

		if (_this.enabled === false) return;

		event.preventDefault();
		event.stopPropagation();

		_state = STATE.NONE;

		document.removeEventListener('mousemove', mousemove);
		document.removeEventListener('mouseup', mouseup);
		_this.dispatchEvent(endEvent);
	}

	function mousewheel(event) {

		if (_this.enabled === false) return;

		event.preventDefault();
		event.stopPropagation();

		var delta = 0;

		if (event.wheelDelta) {
			// WebKit / Opera / Explorer 9

			delta = event.wheelDelta / 40;
		} else if (event.detail) {
			// Firefox

			delta = -event.detail / 3;
		}

		_zoomStart.y += delta * 0.01;
		_this.dispatchEvent(startEvent);
		_this.dispatchEvent(endEvent);
	}

	function touchstart(event) {

		if (_this.enabled === false) return;

		switch (event.touches.length) {

			case 1:
				_state = STATE.TOUCH_ROTATE;
				_rotateStart = _rotateEnd = _this.getMouseProjectionOnBall(event.touches[0].pageX, event.touches[0].pageY);
				break;

			case 2:
				_state = STATE.TOUCH_ZOOM;
				var dx = event.touches[0].pageX - event.touches[1].pageX;
				var dy = event.touches[0].pageY - event.touches[1].pageY;
				_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);
				break;

			case 3:
				_state = STATE.TOUCH_PAN;
				_panStart = _panEnd = _this.getMouseOnScreen(event.touches[0].pageX, event.touches[0].pageY);
				break;

			default:
				_state = STATE.NONE;

		}
		_this.dispatchEvent(startEvent);
	}

	function touchmove(event) {

		if (_this.enabled === false) return;

		event.preventDefault();
		event.stopPropagation();

		switch (event.touches.length) {

			case 1:
				_rotateEnd = _this.getMouseProjectionOnBall(event.touches[0].pageX, event.touches[0].pageY);
				break;

			case 2:
				var dx = event.touches[0].pageX - event.touches[1].pageX;
				var dy = event.touches[0].pageY - event.touches[1].pageY;
				_touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);
				break;

			case 3:
				_panEnd = _this.getMouseOnScreen(event.touches[0].pageX, event.touches[0].pageY);
				break;

			default:
				_state = STATE.NONE;

		}
	}

	function touchend(event) {

		if (_this.enabled === false) return;

		switch (event.touches.length) {

			case 1:
				_rotateStart = _rotateEnd = _this.getMouseProjectionOnBall(event.touches[0].pageX, event.touches[0].pageY);
				break;

			case 2:
				_touchZoomDistanceStart = _touchZoomDistanceEnd = 0;
				break;

			case 3:
				_panStart = _panEnd = _this.getMouseOnScreen(event.touches[0].pageX, event.touches[0].pageY);
				break;

		}

		_state = STATE.NONE;
		_this.dispatchEvent(endEvent);
	}

	this.domElement.addEventListener('contextmenu', function (event) {
		event.preventDefault();
	}, false);

	this.domElement.addEventListener('mousedown', mousedown, false);

	this.domElement.addEventListener('mousewheel', mousewheel, false);
	this.domElement.addEventListener('DOMMouseScroll', mousewheel, false); // firefox

	this.domElement.addEventListener('touchstart', touchstart, false);
	this.domElement.addEventListener('touchend', touchend, false);
	this.domElement.addEventListener('touchmove', touchmove, false);

	window.addEventListener('keydown', keydown, false);
	window.addEventListener('keyup', keyup, false);

	this.handleResize();
};

THREE.TrackballControls.prototype = Object.create(THREE.EventDispatcher.prototype);

},{}]},{},[1,2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGN1YmUuanMiLCJzcmNcXHV0aWxzXFxUcmFja2JhbGxDb250cm9scy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDSUE7O0FBR0EsSUFBSSxNQUFKLEVBQVksUUFBWixFQUFzQixLQUF0QixFQUE2QixRQUE3QixDLENBUEE7Ozs7QUFTQTtBQUNBOztBQUVBLFNBQVMsSUFBVCxHQUFlO0FBQ1gsYUFBUyxJQUFJLE1BQU0saUJBQVYsQ0FBNEIsRUFBNUIsRUFBZ0MsT0FBTyxVQUFQLEdBQW9CLE9BQU8sV0FBM0QsRUFBd0UsQ0FBeEUsRUFBMkUsSUFBM0UsQ0FBVDtBQUNBLFdBQU8sUUFBUCxDQUFnQixDQUFoQixHQUFvQixHQUFwQjs7QUFFQSxlQUFXLElBQUksTUFBTSxpQkFBVixDQUE2QixNQUE3QixDQUFYO0FBQ0EsYUFBUyxnQkFBVCxDQUEwQixRQUExQixFQUFvQyxNQUFwQzs7QUFFQSxZQUFRLElBQUksTUFBTSxLQUFWLEVBQVI7O0FBRUEsUUFBSSxXQUFXLElBQUksTUFBTSxZQUFWLENBQXVCLEdBQXZCLEVBQTJCLEdBQTNCLEVBQStCLEdBQS9CLENBQWY7QUFDQSxRQUFJLFdBQVcsSUFBSSxNQUFNLGtCQUFWLEVBQWY7O0FBRUEsUUFBSSxPQUFPLElBQUksTUFBTSxJQUFWLENBQWdCLFFBQWhCLEVBQTBCLFFBQTFCLENBQVg7QUFDQSxVQUFNLEdBQU4sQ0FBVSxJQUFWOztBQUVBLGVBQVcsSUFBSSxNQUFNLGFBQVYsRUFBWDtBQUNBLGFBQVMsT0FBVCxDQUFpQixPQUFPLFVBQXhCLEVBQW9DLE9BQU8sV0FBM0M7QUFDQSxhQUFTLElBQVQsQ0FBYyxXQUFkLENBQTBCLFNBQVMsVUFBbkM7QUFDSDs7QUFFRCxTQUFTLE9BQVQsR0FBa0I7QUFDZCwwQkFBdUIsT0FBdkI7QUFDQSxhQUFTLE1BQVQ7QUFDSDs7QUFFRCxTQUFTLE1BQVQsR0FBaUI7QUFD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Q0FBZ0IsZ0JBQWhCLENBQWtDLGFBQWxDLEVBQWlELFVBQVcsS0FBWCxFQUFtQjtBQUFFLFFBQU0sY0FBTjtBQUF5QixFQUEvRixFQUFpRyxLQUFqRzs7QUFFQSxNQUFLLFVBQUwsQ0FBZ0IsZ0JBQWhCLENBQWtDLFdBQWxDLEVBQStDLFNBQS9DLEVBQTBELEtBQTFEOztBQUVBLE1BQUssVUFBTCxDQUFnQixnQkFBaEIsQ0FBa0MsWUFBbEMsRUFBZ0QsVUFBaEQsRUFBNEQsS0FBNUQ7QUFDQSxNQUFLLFVBQUwsQ0FBZ0IsZ0JBQWhCLENBQWtDLGdCQUFsQyxFQUFvRCxVQUFwRCxFQUFnRSxLQUFoRSxFQXJpQnlELENBcWlCZ0I7O0FBRXpFLE1BQUssVUFBTCxDQUFnQixnQkFBaEIsQ0FBa0MsWUFBbEMsRUFBZ0QsVUFBaEQsRUFBNEQsS0FBNUQ7QUFDQSxNQUFLLFVBQUwsQ0FBZ0IsZ0JBQWhCLENBQWtDLFVBQWxDLEVBQThDLFFBQTlDLEVBQXdELEtBQXhEO0FBQ0EsTUFBSyxVQUFMLENBQWdCLGdCQUFoQixDQUFrQyxXQUFsQyxFQUErQyxTQUEvQyxFQUEwRCxLQUExRDs7QUFFQSxRQUFPLGdCQUFQLENBQXlCLFNBQXpCLEVBQW9DLE9BQXBDLEVBQTZDLEtBQTdDO0FBQ0EsUUFBTyxnQkFBUCxDQUF5QixPQUF6QixFQUFrQyxLQUFsQyxFQUF5QyxLQUF6Qzs7QUFFQSxNQUFLLFlBQUw7QUFFQSxDQWhqQkQ7O0FBa2pCQSxNQUFNLGlCQUFOLENBQXdCLFNBQXhCLEdBQW9DLE9BQU8sTUFBUCxDQUFlLE1BQU0sZUFBTixDQUFzQixTQUFyQyxDQUFwQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKipcclxuICogQ3JlYXRlZCBieSBBbWFyIG9uIDA3LjExLjIwMTYuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICcuLi9zcmMvdXRpbHMvVHJhY2tiYWxsQ29udHJvbHMnO1xyXG5cclxuXHJcbnZhciBjYW1lcmEsIGNvbnRyb2xzLCBzY2VuZSwgcmVuZGVyZXI7XHJcblxyXG5pbml0KCk7XHJcbmFuaW1hdGUoKTtcclxuXHJcbmZ1bmN0aW9uIGluaXQoKXtcclxuICAgIGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg0NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDEwMDApO1xyXG4gICAgY2FtZXJhLnBvc2l0aW9uLnogPSA1MDA7XHJcblxyXG4gICAgY29udHJvbHMgPSBuZXcgVEhSRUUuVHJhY2tiYWxsQ29udHJvbHMoIGNhbWVyYSApO1xyXG4gICAgY29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcmVuZGVyKTtcclxuXHJcbiAgICBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG5cclxuICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5DdWJlR2VvbWV0cnkoMTAwLDEwMCwxMDApO1xyXG4gICAgdmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hOb3JtYWxNYXRlcmlhbCgpO1xyXG5cclxuICAgIHZhciBtZXNoID0gbmV3IFRIUkVFLk1lc2goIGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICBzY2VuZS5hZGQobWVzaCk7XHJcblxyXG4gICAgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xyXG4gICAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KVxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYW5pbWF0ZSgpe1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBhbmltYXRlICk7XHJcbiAgICBjb250cm9scy51cGRhdGUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCl7XHJcbiAgICByZW5kZXJlci5yZW5kZXIoIHNjZW5lLCBjYW1lcmEgKTtcclxufVxyXG4iLCIvKipcbiAqIEBhdXRob3IgRWJlcmhhcmQgR3JhZXRoZXIgLyBodHRwOi8vZWdyYWV0aGVyLmNvbS9cbiAqL1xuXG5USFJFRS5UcmFja2JhbGxDb250cm9scyA9IGZ1bmN0aW9uICggb2JqZWN0LCBkb21FbGVtZW50ICkge1xuXG5cdHZhciBfdGhpcyA9IHRoaXM7XG5cdHZhciBTVEFURSA9IHsgTk9ORTogLTEsIFJPVEFURTogMCwgWk9PTTogMSwgUEFOOiAyLCBUT1VDSF9ST1RBVEU6IDMsIFRPVUNIX1pPT006IDQsIFRPVUNIX1BBTjogNSB9O1xuXG5cdHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuXHR0aGlzLmRvbUVsZW1lbnQgPSAoIGRvbUVsZW1lbnQgIT09IHVuZGVmaW5lZCApID8gZG9tRWxlbWVudCA6IGRvY3VtZW50O1xuXG5cdC8vIEFQSVxuXG5cdHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cblx0dGhpcy5zY3JlZW4gPSB7IGxlZnQ6IDAsIHRvcDogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuXG5cdHRoaXMucm90YXRlU3BlZWQgPSAxLjA7XG5cdHRoaXMuem9vbVNwZWVkID0gMS4yO1xuXHR0aGlzLnBhblNwZWVkID0gMC4zO1xuXG5cdHRoaXMubm9Sb3RhdGUgPSBmYWxzZTtcblx0dGhpcy5ub1pvb20gPSBmYWxzZTtcblx0dGhpcy5ub1BhbiA9IGZhbHNlO1xuXHR0aGlzLm5vUm9sbCA9IGZhbHNlO1xuXG5cdHRoaXMuc3RhdGljTW92aW5nID0gZmFsc2U7XG5cdHRoaXMuZHluYW1pY0RhbXBpbmdGYWN0b3IgPSAwLjI7XG5cblx0dGhpcy5taW5EaXN0YW5jZSA9IDA7XG5cdHRoaXMubWF4RGlzdGFuY2UgPSBJbmZpbml0eTtcblxuXHR0aGlzLmtleXMgPSBbIDY1IC8qQSovLCA4MyAvKlMqLywgNjggLypEKi8gXTtcblxuXHQvLyBpbnRlcm5hbHNcblxuXHR0aGlzLnRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0dmFyIGxhc3RQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0dmFyIF9zdGF0ZSA9IFNUQVRFLk5PTkUsXG5cdF9wcmV2U3RhdGUgPSBTVEFURS5OT05FLFxuXG5cdF9leWUgPSBuZXcgVEhSRUUuVmVjdG9yMygpLFxuXG5cdF9yb3RhdGVTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IzKCksXG5cdF9yb3RhdGVFbmQgPSBuZXcgVEhSRUUuVmVjdG9yMygpLFxuXG5cdF96b29tU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpLFxuXHRfem9vbUVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCksXG5cblx0X3RvdWNoWm9vbURpc3RhbmNlU3RhcnQgPSAwLFxuXHRfdG91Y2hab29tRGlzdGFuY2VFbmQgPSAwLFxuXG5cdF9wYW5TdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCksXG5cdF9wYW5FbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG5cdC8vIGZvciByZXNldFxuXG5cdHRoaXMudGFyZ2V0MCA9IHRoaXMudGFyZ2V0LmNsb25lKCk7XG5cdHRoaXMucG9zaXRpb24wID0gdGhpcy5vYmplY3QucG9zaXRpb24uY2xvbmUoKTtcblx0dGhpcy51cDAgPSB0aGlzLm9iamVjdC51cC5jbG9uZSgpO1xuXG5cdC8vIGV2ZW50c1xuXG5cdHZhciBjaGFuZ2VFdmVudCA9IHsgdHlwZTogJ2NoYW5nZScgfTtcblx0dmFyIHN0YXJ0RXZlbnQgPSB7IHR5cGU6ICdzdGFydCd9O1xuXHR2YXIgZW5kRXZlbnQgPSB7IHR5cGU6ICdlbmQnfTtcblxuXG5cdC8vIG1ldGhvZHNcblxuXHR0aGlzLmhhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdGlmICggdGhpcy5kb21FbGVtZW50ID09PSBkb2N1bWVudCApIHtcblxuXHRcdFx0dGhpcy5zY3JlZW4ubGVmdCA9IDA7XG5cdFx0XHR0aGlzLnNjcmVlbi50b3AgPSAwO1xuXHRcdFx0dGhpcy5zY3JlZW4ud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0XHRcdHRoaXMuc2NyZWVuLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRoaXMuc2NyZWVuID0gdGhpcy5kb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0dGhpcy5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiB0aGlzWyBldmVudC50eXBlIF0gPT0gJ2Z1bmN0aW9uJyApIHtcblxuXHRcdFx0dGhpc1sgZXZlbnQudHlwZSBdKCBldmVudCApO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0dGhpcy5nZXRNb3VzZU9uU2NyZWVuID0gZnVuY3Rpb24gKCBjbGllbnRYLCBjbGllbnRZICkge1xuXG5cdFx0cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3IyKFxuXHRcdFx0KCBjbGllbnRYIC0gX3RoaXMuc2NyZWVuLmxlZnQgKSAvIF90aGlzLnNjcmVlbi53aWR0aCxcblx0XHRcdCggY2xpZW50WSAtIF90aGlzLnNjcmVlbi50b3AgKSAvIF90aGlzLnNjcmVlbi5oZWlnaHRcblx0XHQpO1xuXG5cdH07XG5cblx0dGhpcy5nZXRNb3VzZVByb2plY3Rpb25PbkJhbGwgPSBmdW5jdGlvbiAoIGNsaWVudFgsIGNsaWVudFkgKSB7XG5cblx0XHR2YXIgbW91c2VPbkJhbGwgPSBuZXcgVEhSRUUuVmVjdG9yMyhcblx0XHRcdCggY2xpZW50WCAtIF90aGlzLnNjcmVlbi53aWR0aCAqIDAuNSAtIF90aGlzLnNjcmVlbi5sZWZ0ICkgLyAoX3RoaXMuc2NyZWVuLndpZHRoKi41KSxcblx0XHRcdCggX3RoaXMuc2NyZWVuLmhlaWdodCAqIDAuNSArIF90aGlzLnNjcmVlbi50b3AgLSBjbGllbnRZICkgLyAoX3RoaXMuc2NyZWVuLmhlaWdodCouNSksXG5cdFx0XHQwLjBcblx0XHQpO1xuXG5cdFx0dmFyIGxlbmd0aCA9IG1vdXNlT25CYWxsLmxlbmd0aCgpO1xuXG5cdFx0aWYgKCBfdGhpcy5ub1JvbGwgKSB7XG5cblx0XHRcdGlmICggbGVuZ3RoIDwgTWF0aC5TUVJUMV8yICkge1xuXG5cdFx0XHRcdG1vdXNlT25CYWxsLnogPSBNYXRoLnNxcnQoIDEuMCAtIGxlbmd0aCpsZW5ndGggKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRtb3VzZU9uQmFsbC56ID0gLjUgLyBsZW5ndGg7XG5cdFx0XHRcdFxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmICggbGVuZ3RoID4gMS4wICkge1xuXG5cdFx0XHRtb3VzZU9uQmFsbC5ub3JtYWxpemUoKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1vdXNlT25CYWxsLnogPSBNYXRoLnNxcnQoIDEuMCAtIGxlbmd0aCAqIGxlbmd0aCApO1xuXG5cdFx0fVxuXG5cdFx0X2V5ZS5jb3B5KCBfdGhpcy5vYmplY3QucG9zaXRpb24gKS5zdWIoIF90aGlzLnRhcmdldCApO1xuXG5cdFx0dmFyIHByb2plY3Rpb24gPSBfdGhpcy5vYmplY3QudXAuY2xvbmUoKS5zZXRMZW5ndGgoIG1vdXNlT25CYWxsLnkgKTtcblx0XHRwcm9qZWN0aW9uLmFkZCggX3RoaXMub2JqZWN0LnVwLmNsb25lKCkuY3Jvc3MoIF9leWUgKS5zZXRMZW5ndGgoIG1vdXNlT25CYWxsLnggKSApO1xuXHRcdHByb2plY3Rpb24uYWRkKCBfZXllLnNldExlbmd0aCggbW91c2VPbkJhbGwueiApICk7XG5cblx0XHRyZXR1cm4gcHJvamVjdGlvbjtcblxuXHR9O1xuXG5cdHRoaXMucm90YXRlQ2FtZXJhID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIGFuZ2xlID0gTWF0aC5hY29zKCBfcm90YXRlU3RhcnQuZG90KCBfcm90YXRlRW5kICkgLyBfcm90YXRlU3RhcnQubGVuZ3RoKCkgLyBfcm90YXRlRW5kLmxlbmd0aCgpICk7XG5cblx0XHRpZiAoIGFuZ2xlICkge1xuXG5cdFx0XHR2YXIgYXhpcyA9ICggbmV3IFRIUkVFLlZlY3RvcjMoKSApLmNyb3NzVmVjdG9ycyggX3JvdGF0ZVN0YXJ0LCBfcm90YXRlRW5kICkubm9ybWFsaXplKCksXG5cdFx0XHRcdHF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG5cdFx0XHRhbmdsZSAqPSBfdGhpcy5yb3RhdGVTcGVlZDtcblxuXHRcdFx0cXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKCBheGlzLCAtYW5nbGUgKTtcblxuXHRcdFx0X2V5ZS5hcHBseVF1YXRlcm5pb24oIHF1YXRlcm5pb24gKTtcblx0XHRcdF90aGlzLm9iamVjdC51cC5hcHBseVF1YXRlcm5pb24oIHF1YXRlcm5pb24gKTtcblxuXHRcdFx0X3JvdGF0ZUVuZC5hcHBseVF1YXRlcm5pb24oIHF1YXRlcm5pb24gKTtcblxuXHRcdFx0aWYgKCBfdGhpcy5zdGF0aWNNb3ZpbmcgKSB7XG5cblx0XHRcdFx0X3JvdGF0ZVN0YXJ0LmNvcHkoIF9yb3RhdGVFbmQgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRxdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUoIGF4aXMsIGFuZ2xlICogKCBfdGhpcy5keW5hbWljRGFtcGluZ0ZhY3RvciAtIDEuMCApICk7XG5cdFx0XHRcdF9yb3RhdGVTdGFydC5hcHBseVF1YXRlcm5pb24oIHF1YXRlcm5pb24gKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH07XG5cblx0dGhpcy56b29tQ2FtZXJhID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0aWYgKCBfc3RhdGUgPT09IFNUQVRFLlRPVUNIX1pPT00gKSB7XG5cblx0XHRcdHZhciBmYWN0b3IgPSBfdG91Y2hab29tRGlzdGFuY2VTdGFydCAvIF90b3VjaFpvb21EaXN0YW5jZUVuZDtcblx0XHRcdF90b3VjaFpvb21EaXN0YW5jZVN0YXJ0ID0gX3RvdWNoWm9vbURpc3RhbmNlRW5kO1xuXHRcdFx0X2V5ZS5tdWx0aXBseVNjYWxhciggZmFjdG9yICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR2YXIgZmFjdG9yID0gMS4wICsgKCBfem9vbUVuZC55IC0gX3pvb21TdGFydC55ICkgKiBfdGhpcy56b29tU3BlZWQ7XG5cblx0XHRcdGlmICggZmFjdG9yICE9PSAxLjAgJiYgZmFjdG9yID4gMC4wICkge1xuXG5cdFx0XHRcdF9leWUubXVsdGlwbHlTY2FsYXIoIGZhY3RvciApO1xuXG5cdFx0XHRcdGlmICggX3RoaXMuc3RhdGljTW92aW5nICkge1xuXG5cdFx0XHRcdFx0X3pvb21TdGFydC5jb3B5KCBfem9vbUVuZCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRfem9vbVN0YXJ0LnkgKz0gKCBfem9vbUVuZC55IC0gX3pvb21TdGFydC55ICkgKiB0aGlzLmR5bmFtaWNEYW1waW5nRmFjdG9yO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH07XG5cblx0dGhpcy5wYW5DYW1lcmEgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHR2YXIgbW91c2VDaGFuZ2UgPSBfcGFuRW5kLmNsb25lKCkuc3ViKCBfcGFuU3RhcnQgKTtcblxuXHRcdGlmICggbW91c2VDaGFuZ2UubGVuZ3RoU3EoKSApIHtcblxuXHRcdFx0bW91c2VDaGFuZ2UubXVsdGlwbHlTY2FsYXIoIF9leWUubGVuZ3RoKCkgKiBfdGhpcy5wYW5TcGVlZCApO1xuXG5cdFx0XHR2YXIgcGFuID0gX2V5ZS5jbG9uZSgpLmNyb3NzKCBfdGhpcy5vYmplY3QudXAgKS5zZXRMZW5ndGgoIG1vdXNlQ2hhbmdlLnggKTtcblx0XHRcdHBhbi5hZGQoIF90aGlzLm9iamVjdC51cC5jbG9uZSgpLnNldExlbmd0aCggbW91c2VDaGFuZ2UueSApICk7XG5cblx0XHRcdF90aGlzLm9iamVjdC5wb3NpdGlvbi5hZGQoIHBhbiApO1xuXHRcdFx0X3RoaXMudGFyZ2V0LmFkZCggcGFuICk7XG5cblx0XHRcdGlmICggX3RoaXMuc3RhdGljTW92aW5nICkge1xuXG5cdFx0XHRcdF9wYW5TdGFydCA9IF9wYW5FbmQ7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0X3BhblN0YXJ0LmFkZCggbW91c2VDaGFuZ2Uuc3ViVmVjdG9ycyggX3BhbkVuZCwgX3BhblN0YXJ0ICkubXVsdGlwbHlTY2FsYXIoIF90aGlzLmR5bmFtaWNEYW1waW5nRmFjdG9yICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH07XG5cblx0dGhpcy5jaGVja0Rpc3RhbmNlcyA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdGlmICggIV90aGlzLm5vWm9vbSB8fCAhX3RoaXMubm9QYW4gKSB7XG5cblx0XHRcdGlmICggX2V5ZS5sZW5ndGhTcSgpID4gX3RoaXMubWF4RGlzdGFuY2UgKiBfdGhpcy5tYXhEaXN0YW5jZSApIHtcblxuXHRcdFx0XHRfdGhpcy5vYmplY3QucG9zaXRpb24uYWRkVmVjdG9ycyggX3RoaXMudGFyZ2V0LCBfZXllLnNldExlbmd0aCggX3RoaXMubWF4RGlzdGFuY2UgKSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggX2V5ZS5sZW5ndGhTcSgpIDwgX3RoaXMubWluRGlzdGFuY2UgKiBfdGhpcy5taW5EaXN0YW5jZSApIHtcblxuXHRcdFx0XHRfdGhpcy5vYmplY3QucG9zaXRpb24uYWRkVmVjdG9ycyggX3RoaXMudGFyZ2V0LCBfZXllLnNldExlbmd0aCggX3RoaXMubWluRGlzdGFuY2UgKSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fTtcblxuXHR0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdF9leWUuc3ViVmVjdG9ycyggX3RoaXMub2JqZWN0LnBvc2l0aW9uLCBfdGhpcy50YXJnZXQgKTtcblxuXHRcdGlmICggIV90aGlzLm5vUm90YXRlICkge1xuXG5cdFx0XHRfdGhpcy5yb3RhdGVDYW1lcmEoKTtcblxuXHRcdH1cblxuXHRcdGlmICggIV90aGlzLm5vWm9vbSApIHtcblxuXHRcdFx0X3RoaXMuem9vbUNhbWVyYSgpO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCAhX3RoaXMubm9QYW4gKSB7XG5cblx0XHRcdF90aGlzLnBhbkNhbWVyYSgpO1xuXG5cdFx0fVxuXG5cdFx0X3RoaXMub2JqZWN0LnBvc2l0aW9uLmFkZFZlY3RvcnMoIF90aGlzLnRhcmdldCwgX2V5ZSApO1xuXG5cdFx0X3RoaXMuY2hlY2tEaXN0YW5jZXMoKTtcblxuXHRcdF90aGlzLm9iamVjdC5sb29rQXQoIF90aGlzLnRhcmdldCApO1xuXG5cdFx0aWYgKCBsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoIF90aGlzLm9iamVjdC5wb3NpdGlvbiApID4gMCApIHtcblxuXHRcdFx0X3RoaXMuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuXHRcdFx0bGFzdFBvc2l0aW9uLmNvcHkoIF90aGlzLm9iamVjdC5wb3NpdGlvbiApO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0dGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdF9zdGF0ZSA9IFNUQVRFLk5PTkU7XG5cdFx0X3ByZXZTdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0XHRfdGhpcy50YXJnZXQuY29weSggX3RoaXMudGFyZ2V0MCApO1xuXHRcdF90aGlzLm9iamVjdC5wb3NpdGlvbi5jb3B5KCBfdGhpcy5wb3NpdGlvbjAgKTtcblx0XHRfdGhpcy5vYmplY3QudXAuY29weSggX3RoaXMudXAwICk7XG5cblx0XHRfZXllLnN1YlZlY3RvcnMoIF90aGlzLm9iamVjdC5wb3NpdGlvbiwgX3RoaXMudGFyZ2V0ICk7XG5cblx0XHRfdGhpcy5vYmplY3QubG9va0F0KCBfdGhpcy50YXJnZXQgKTtcblxuXHRcdF90aGlzLmRpc3BhdGNoRXZlbnQoIGNoYW5nZUV2ZW50ICk7XG5cblx0XHRsYXN0UG9zaXRpb24uY29weSggX3RoaXMub2JqZWN0LnBvc2l0aW9uICk7XG5cblx0fTtcblxuXHQvLyBsaXN0ZW5lcnNcblxuXHRmdW5jdGlvbiBrZXlkb3duKCBldmVudCApIHtcblxuXHRcdGlmICggX3RoaXMuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBrZXlkb3duICk7XG5cblx0XHRfcHJldlN0YXRlID0gX3N0YXRlO1xuXG5cdFx0aWYgKCBfc3RhdGUgIT09IFNUQVRFLk5PTkUgKSB7XG5cblx0XHRcdHJldHVybjtcblxuXHRcdH0gZWxzZSBpZiAoIGV2ZW50LmtleUNvZGUgPT09IF90aGlzLmtleXNbIFNUQVRFLlJPVEFURSBdICYmICFfdGhpcy5ub1JvdGF0ZSApIHtcblxuXHRcdFx0X3N0YXRlID0gU1RBVEUuUk9UQVRFO1xuXG5cdFx0fSBlbHNlIGlmICggZXZlbnQua2V5Q29kZSA9PT0gX3RoaXMua2V5c1sgU1RBVEUuWk9PTSBdICYmICFfdGhpcy5ub1pvb20gKSB7XG5cblx0XHRcdF9zdGF0ZSA9IFNUQVRFLlpPT007XG5cblx0XHR9IGVsc2UgaWYgKCBldmVudC5rZXlDb2RlID09PSBfdGhpcy5rZXlzWyBTVEFURS5QQU4gXSAmJiAhX3RoaXMubm9QYW4gKSB7XG5cblx0XHRcdF9zdGF0ZSA9IFNUQVRFLlBBTjtcblxuXHRcdH1cblxuXHR9XG5cblx0ZnVuY3Rpb24ga2V5dXAoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBfdGhpcy5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdF9zdGF0ZSA9IF9wcmV2U3RhdGU7XG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBrZXlkb3duLCBmYWxzZSApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBtb3VzZWRvd24oIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBfdGhpcy5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRpZiAoIF9zdGF0ZSA9PT0gU1RBVEUuTk9ORSApIHtcblxuXHRcdFx0X3N0YXRlID0gZXZlbnQuYnV0dG9uO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBfc3RhdGUgPT09IFNUQVRFLlJPVEFURSAmJiAhX3RoaXMubm9Sb3RhdGUgKSB7XG5cblx0XHRcdF9yb3RhdGVTdGFydCA9IF90aGlzLmdldE1vdXNlUHJvamVjdGlvbk9uQmFsbCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXHRcdFx0X3JvdGF0ZUVuZC5jb3B5KF9yb3RhdGVTdGFydClcblxuXHRcdH0gZWxzZSBpZiAoIF9zdGF0ZSA9PT0gU1RBVEUuWk9PTSAmJiAhX3RoaXMubm9ab29tICkge1xuXG5cdFx0XHRfem9vbVN0YXJ0ID0gX3RoaXMuZ2V0TW91c2VPblNjcmVlbiggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXHRcdFx0X3pvb21FbmQuY29weShfem9vbVN0YXJ0KTtcblxuXHRcdH0gZWxzZSBpZiAoIF9zdGF0ZSA9PT0gU1RBVEUuUEFOICYmICFfdGhpcy5ub1BhbiApIHtcblxuXHRcdFx0X3BhblN0YXJ0ID0gX3RoaXMuZ2V0TW91c2VPblNjcmVlbiggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXHRcdFx0X3BhbkVuZC5jb3B5KF9wYW5TdGFydClcblxuXHRcdH1cblxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBtb3VzZW1vdmUsIGZhbHNlICk7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNldXAnLCBtb3VzZXVwLCBmYWxzZSApO1xuXHRcdF90aGlzLmRpc3BhdGNoRXZlbnQoIHN0YXJ0RXZlbnQgKTtcblxuXG5cdH1cblxuXHRmdW5jdGlvbiBtb3VzZW1vdmUoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBfdGhpcy5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRpZiAoIF9zdGF0ZSA9PT0gU1RBVEUuUk9UQVRFICYmICFfdGhpcy5ub1JvdGF0ZSApIHtcblxuXHRcdFx0X3JvdGF0ZUVuZCA9IF90aGlzLmdldE1vdXNlUHJvamVjdGlvbk9uQmFsbCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdFx0fSBlbHNlIGlmICggX3N0YXRlID09PSBTVEFURS5aT09NICYmICFfdGhpcy5ub1pvb20gKSB7XG5cblx0XHRcdF96b29tRW5kID0gX3RoaXMuZ2V0TW91c2VPblNjcmVlbiggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdFx0fSBlbHNlIGlmICggX3N0YXRlID09PSBTVEFURS5QQU4gJiYgIV90aGlzLm5vUGFuICkge1xuXG5cdFx0XHRfcGFuRW5kID0gX3RoaXMuZ2V0TW91c2VPblNjcmVlbiggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRmdW5jdGlvbiBtb3VzZXVwKCBldmVudCApIHtcblxuXHRcdGlmICggX3RoaXMuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0X3N0YXRlID0gU1RBVEUuTk9ORTtcblxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBtb3VzZW1vdmUgKTtcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIG1vdXNldXAgKTtcblx0XHRfdGhpcy5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBtb3VzZXdoZWVsKCBldmVudCApIHtcblxuXHRcdGlmICggX3RoaXMuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0dmFyIGRlbHRhID0gMDtcblxuXHRcdGlmICggZXZlbnQud2hlZWxEZWx0YSApIHsgLy8gV2ViS2l0IC8gT3BlcmEgLyBFeHBsb3JlciA5XG5cblx0XHRcdGRlbHRhID0gZXZlbnQud2hlZWxEZWx0YSAvIDQwO1xuXG5cdFx0fSBlbHNlIGlmICggZXZlbnQuZGV0YWlsICkgeyAvLyBGaXJlZm94XG5cblx0XHRcdGRlbHRhID0gLSBldmVudC5kZXRhaWwgLyAzO1xuXG5cdFx0fVxuXG5cdFx0X3pvb21TdGFydC55ICs9IGRlbHRhICogMC4wMTtcblx0XHRfdGhpcy5kaXNwYXRjaEV2ZW50KCBzdGFydEV2ZW50ICk7XG5cdFx0X3RoaXMuZGlzcGF0Y2hFdmVudCggZW5kRXZlbnQgKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gdG91Y2hzdGFydCggZXZlbnQgKSB7XG5cblx0XHRpZiAoIF90aGlzLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0c3dpdGNoICggZXZlbnQudG91Y2hlcy5sZW5ndGggKSB7XG5cblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0X3N0YXRlID0gU1RBVEUuVE9VQ0hfUk9UQVRFO1xuXHRcdFx0XHRfcm90YXRlU3RhcnQgPSBfcm90YXRlRW5kID0gX3RoaXMuZ2V0TW91c2VQcm9qZWN0aW9uT25CYWxsKCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRfc3RhdGUgPSBTVEFURS5UT1VDSF9aT09NO1xuXHRcdFx0XHR2YXIgZHggPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVggLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVg7XG5cdFx0XHRcdHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWTtcblx0XHRcdFx0X3RvdWNoWm9vbURpc3RhbmNlRW5kID0gX3RvdWNoWm9vbURpc3RhbmNlU3RhcnQgPSBNYXRoLnNxcnQoIGR4ICogZHggKyBkeSAqIGR5ICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdF9zdGF0ZSA9IFNUQVRFLlRPVUNIX1BBTjtcblx0XHRcdFx0X3BhblN0YXJ0ID0gX3BhbkVuZCA9IF90aGlzLmdldE1vdXNlT25TY3JlZW4oIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRfc3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdFx0fVxuXHRcdF90aGlzLmRpc3BhdGNoRXZlbnQoIHN0YXJ0RXZlbnQgKTtcblxuXG5cdH1cblxuXHRmdW5jdGlvbiB0b3VjaG1vdmUoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBfdGhpcy5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRzd2l0Y2ggKCBldmVudC50b3VjaGVzLmxlbmd0aCApIHtcblxuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRfcm90YXRlRW5kID0gX3RoaXMuZ2V0TW91c2VQcm9qZWN0aW9uT25CYWxsKCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR2YXIgZHggPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVggLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVg7XG5cdFx0XHRcdHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWTtcblx0XHRcdFx0X3RvdWNoWm9vbURpc3RhbmNlRW5kID0gTWF0aC5zcXJ0KCBkeCAqIGR4ICsgZHkgKiBkeSApXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdF9wYW5FbmQgPSBfdGhpcy5nZXRNb3VzZU9uU2NyZWVuKCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0X3N0YXRlID0gU1RBVEUuTk9ORTtcblxuXHRcdH1cblxuXHR9XG5cblx0ZnVuY3Rpb24gdG91Y2hlbmQoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBfdGhpcy5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdHN3aXRjaCAoIGV2ZW50LnRvdWNoZXMubGVuZ3RoICkge1xuXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdF9yb3RhdGVTdGFydCA9IF9yb3RhdGVFbmQgPSBfdGhpcy5nZXRNb3VzZVByb2plY3Rpb25PbkJhbGwoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdF90b3VjaFpvb21EaXN0YW5jZVN0YXJ0ID0gX3RvdWNoWm9vbURpc3RhbmNlRW5kID0gMDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0X3BhblN0YXJ0ID0gX3BhbkVuZCA9IF90aGlzLmdldE1vdXNlT25TY3JlZW4oIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0fVxuXG5cdFx0X3N0YXRlID0gU1RBVEUuTk9ORTtcblx0XHRfdGhpcy5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG5cdH1cblxuXHR0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NvbnRleHRtZW51JywgZnVuY3Rpb24gKCBldmVudCApIHsgZXZlbnQucHJldmVudERlZmF1bHQoKTsgfSwgZmFsc2UgKTtcblxuXHR0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsIG1vdXNlZG93biwgZmFsc2UgKTtcblxuXHR0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNld2hlZWwnLCBtb3VzZXdoZWVsLCBmYWxzZSApO1xuXHR0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ0RPTU1vdXNlU2Nyb2xsJywgbW91c2V3aGVlbCwgZmFsc2UgKTsgLy8gZmlyZWZveFxuXG5cdHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsIHRvdWNoc3RhcnQsIGZhbHNlICk7XG5cdHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCB0b3VjaGVuZCwgZmFsc2UgKTtcblx0dGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCB0b3VjaG1vdmUsIGZhbHNlICk7XG5cblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywga2V5ZG93biwgZmFsc2UgKTtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXl1cCcsIGtleXVwLCBmYWxzZSApO1xuXG5cdHRoaXMuaGFuZGxlUmVzaXplKCk7XG5cbn07XG5cblRIUkVFLlRyYWNrYmFsbENvbnRyb2xzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUgKTtcbiJdfQ==
